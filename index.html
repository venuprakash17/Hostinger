<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- CRITICAL: Force no caching of this page -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>SvnaJobs - College & Placement Management Platform</title>
    <meta name="description" content="Complete SaaS platform for college placement management with resume builder, coding practice, and analytics" />
    <meta name="author" content="SvnaJobs" />

    <meta property="og:title" content="SvnaJobs - Smart Placement Management" />
    <meta property="og:description" content="Platform for students, faculty, and colleges to manage placements efficiently" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      // CRITICAL: Force reload if old cached code is detected
      (function() {
        // Wait for scripts to load, then check
        window.addEventListener('load', function() {
          setTimeout(function() {
            // Check if we're loading the correct new build
            const scripts = document.querySelectorAll('script[src*="index-"]');
            let foundOldBuild = false;
            scripts.forEach(function(script) {
              const src = script.getAttribute('src') || '';
              // Old build hashes: D7MacLd2, DMTPXsNz
              if (src.includes('index-D7MacLd2.js') || src.includes('index-DMTPXsNz.js')) {
                foundOldBuild = true;
                console.error('ðŸš¨ OLD CACHED BUILD DETECTED! Forcing reload...');
              }
            });
            
            // Also check if main.tsx fix is present
            if (!window.__CORRECT_API_URL__) {
              console.error('ðŸš¨ URL fix not detected! Forcing reload...');
              foundOldBuild = true;
            }
            
            if (foundOldBuild) {
              // Force hard reload with cache bust
              if (window.location.search.indexOf('nocache') === -1) {
                window.location.href = window.location.href.split('?')[0] + '?nocache=' + Date.now() + '&reload=1';
              } else {
                // If already reloaded once, clear cache and reload
                if ('caches' in window) {
                  caches.keys().then(function(names) {
                    names.forEach(function(name) { caches.delete(name); });
                    window.location.reload(true);
                  });
                } else {
                  window.location.reload(true);
                }
              }
            }
          }, 500);
        });
      })();
    </script>
  </body>
</html>
